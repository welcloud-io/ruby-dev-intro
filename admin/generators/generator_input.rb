#encoding: utf-8

TITLE = 'INITIATION A RUBY'
SLIDES = [
{ :Subtitle => "LES CHAINES DE CARACTERES", 
			:Section => [
			"Affichez sur la sortie standard", 
			"<FONT COLOR='#FF0000'>BIENVENUE A L'INITIATION RUBY</FONT>"
			] 
},
{ :Subtitle => "LES CHAINES DE CARACTERES", 
			:Section => [
			"Affichez sur la sortie standard", 
			"<FONT COLOR='#FF0000'>la 1ère lettre de la phrase</FONT>", 
			"<FONT COLOR='#FF0000'>\"BIENVENUE A L'INITIATION RUBY\"</FONT>"
			] 
},
{ :Subtitle => "LES CHAINES DE CARACTERES", 
			:Section => [
			"Affichez sur la sortie standard", 
			"<FONT COLOR='#FF0000'>la 5ème lettre de la phrase</FONT>", 
			"<FONT COLOR='#FF0000'>\"BIENVENUE A L'INITIATION RUBY\"</FONT>"
			] 
},
{ :Subtitle => "LES CHAINES DE CARACTERES", 
			:Section => [
			"Affichez sur la sortie standard", 
			"<FONT COLOR='#FF0000'>la dernière lettre de la phrase</FONT>", 
			"<FONT COLOR='#FF0000'>\"BIENVENUE A L'INITIATION RUBY\"</FONT>"
			] 
},
{ :Subtitle => "LES CHAINES DE CARACTERES", 
			:Section => [
			"Affichez sur la sortie standard", 
			"<FONT COLOR='#FF0000'>les 4 premières lettres de la phrase</FONT>",			
			"<FONT COLOR='#FF0000'>\"BIENVENUE A L'INITIATION RUBY\"</FONT>"
			] 
},
{ :Subtitle => "LES CHAINES DE CARACTERES", 
			:Section => [
			"Affichez sur la sortie standard", 
			"<FONT COLOR='#FF0000'>La taille en de nombre de caractères de la phrase</FONT>",			
			"<FONT COLOR='#FF0000'>\"BIENVENUE A L'INITIATION RUBY\"</FONT>"
			] 
},
{ :Subtitle => "LES VARIABLES", 
			:Section => [
			"Déclarez une variable", 			
			"<FONT COLOR='#FF0000'>chaine_de_caracteres</FONT>",
			"<FONT COLOR='#FF0000'>initialisez la avec le mot \"RUBY\"</FONT>",
			"<FONT COLOR='#FF0000'>affichez la sur la sortie standard</FONT>"
			] 
},
{ :Subtitle => "LES VARIABLES", 
			:Section => [
			"Affichez sur la sortie standard la classe de la variable", 			
			"<FONT COLOR='#FF0000'>chaine_de_caracteres</FONT>",
			] 
},
{ :Subtitle => "LES VARIABLES", 
			:Section => [
			"Affichez sur la sortie standard les méthodes de la variable chaine_de_caracteres", 			
			"<FONT COLOR='#FF0000'>chaine_de_caracteres</FONT>",
			] 
},
{ :Subtitle => "LES ENTIERS", 
			:Section => [
			"Déclarez la variable", 			
			"<FONT COLOR='#FF0000'>un_entier</FONT>",
			"<FONT COLOR='#FF0000'>initialisez la avec valeur -12</FONT>",
			"affichez la sur la sortie standard"
			] 
},
{ :Subtitle => "LES ENTIERS", 
			:Section => [
			"Affichez sur la sortie standard, la classe de la variable", 			
			"<FONT COLOR='#FF0000'>un_entier</FONT>"
			] 
},
{ :Subtitle => "LES ENTIERS", 
			:Section => [
			"Affichez sur la sur la sortie standard",
			"<FONT COLOR='#FF0000'>la valeur absolue de la variable</FONT>",
			"<FONT COLOR='#FF0000'>un_entier</FONT>"
			] 
},
{ :Subtitle => "LES ENTIERS", 
			:Section => [
			"Affichez sur la sur la sortie standard",
			"<FONT COLOR='#FF0000'>le nombre de secondes dans une année de 365 jours</FONT>"
			] 
},
{ :Subtitle => "COMPOSITION ENTIER et CHAINES DE CARACTERES", 
			:Section => [
			"Affichez sur la sur la sortie standard, la phrase ",
			"<FONT COLOR='#FF0000'>En 2014 il y aura ** secondes</FONT>",
			"<FONT COLOR='#FF0000'>** représente le nombre de secondes en chiffres</FONT>"
			] 
},
{ :Subtitle => "COMPOSITION ENTIER et CHAINES DE CARACTERES", 
			:Section => [
			"Affichez sur la sur la sortie standard, la phrase ",
			"<FONT COLOR='#FF0000'>15 fois de suite la chaine de caractère 'Ruby !'</FONT>"
			] 
},
{ :Subtitle => "LES LISTES", 
			:Section => [
			"Déclarer une variable",
			"<FONT COLOR='#FF0000'>cinq_chiffres_romains</FONT>",
			"<FONT COLOR='#FF0000'>et intialisez là avec 'I', 'II', 'III', 'IV', 'V'</FONT>"
			] 
},
{ :Subtitle => "LES LISTES", 
			:Section => [
			"Déclarer une variable",
			"<FONT COLOR='#FF0000'>Affichez le chiffre romain correspondant à 3</FONT>"
			] 
},
{ :Subtitle => "LES LISTES", 
			:Section => [
			"Déclarer une variable",
			"<FONT COLOR='#FF0000'>Affichez le chiffre romain correspondant à l'addition 3 + 2</FONT>"
			] 
},
{ :Subtitle => "LES LISTES", 
			:Section => [
			"Déclarer une variable",
			"<FONT COLOR='#FF0000'>Affichez le chiffre décimal correspondant au chiffre romain 'IV'</FONT>"
			] 
},
{ :Subtitle => "LES DICTIONNAIRES", 
			:Section => [
			"Déclarez une variable types_de_contenu_par_type_de_fichier",
			"l'initialisée avec (mp3: 'audio', ...) ",
			"<FONT COLOR='#FF0000'>Affichez là sur la sortie standard</FONT>"
			] 
},
{ :Subtitle => "LES CONDITIONS", 
			:Section => [
			"Déclarez une variable age",
			"initialisée la à 5",
			"Affichez 'MINEUR' si  age inférieur à 18 et 'MAJEUR' sinon",
			"Modifier la variable et donnez lui la valeur 34",
			"Affichez là sur la sortie standard"
			] 
},
{ :Subtitle => "LES CONDITIONS", 
			:Section => [
			"Déclarez une variable age est initialisée la à 5",
			"Affichez 'MINEUR' si age inférieur à 18 sinon ne rien afficher",
			] 
},
{ :Subtitle => "LES CONDITIONS", 
			:Section => [
			"Déclarez une variable age est initialisée la à 5",
			"Affichez 'MINEUR' sauf si age supérieur égal à 18",
			"Affichez là sur la sortie standard",
			] 
},
{ :Subtitle => "LES CONDITIONS", 
			:Section => [
			"Déclarez une variable ages et initialisée la à 1, 2, 3, 4, 5",
			"Déclarez une variable index et intialisée la à 0",
			"Affichez 'OK' si ages[index] existe, 'KO' sinon",
			] 
},
{ :Subtitle => "LES BOUCLES", 
			:Section => [
			"Déclarez une variable chiffres",
			"Initialisée la à 0, 1, 2, 3, 4, 5, 6, 7, 8, 9",
			"Affichez les nombres impairs en utilisant l'index",
			] 
},
{ :Subtitle => "LES BOUCLES", 
			:Section => [
			"Déclarez une variable chiffres",
			"Initialisée la à 0, 1, 2, 3, 4, 5, 6, 7, 8, 9",
			"Affichez les nombres impairs sans utiliser d'index",
			] 
},
{ :Subtitle => "LES BOUCLES", 
			:Section => [
			"Déclarez une variable chiffres",
			"Initialisée la à 0, 1, 2, 3, 4, 5, 6, 7, 8, 9",
			"Affichez les nombres impairs sans utiliser d'index, ni l'instruction for",
			] 
},
{ :Subtitle => "LES BOUCLES", 
			:Section => [
			"Déclarez une variable chiffres",
			"Initialisée la à 0, 1, 2, 3, 4, 5, 6, 7, 8, 9",
			"Afficher les chiffres impairs sans utiliser 'each'",
			] 
},
{ :Subtitle => "LES BOUCLES", 
			:Section => [
			"Déclarez une variable chiffres",
			"Initialisée la à 0, 1, 2, 3, 4, 5, 6, 7, 8, 9",
			"Affichez le carré de chaque chiffre sans utiliser 'each'",
			] 
},
{ :Subtitle => "LES BOUCLES", 
			:Section => [
			"Déclarez une variable chiffres",
			"Initialisée la à 0, 1, 2, 3, 4, 5, 6, 7, 8, 9",
			"Définissez la methode carre_de(x)",
			"Afficher le carre de chaque chiffre",
			] 
}
]

$mime_type =
%Q{
	Le type MIME est utilisé dans de nombreux protocoles internet pour associer un type de média (html, image, vidéo, ...) avec le contenu envoyé.
	</br>   
	Ce type MIME est généralement déduit de l'extension du fichier à transférer.
	</br>
	Vous devez écrire un programme qui permet de détecter le type MIME d'un fichier à partir de son nom.
	</br>      
	Une table qui associe un type MIME avec une extension de fichier vous est fournie. Une liste de noms de fichier à transférer vous sera aussi fournie et vous devrez déduire pour chacun d'eux, le type MIME à utiliser.
	</br>
	L'extension d'un fichier se définit par la partie du nom qui se trouve après le dernier point qui le compose.
	</br>
	Si l'extension du fichier est présente dans la table d'association (la casse ne compte pas. ex : TXT est équivalent à txt), alors affichez le type MIME correspondant . S'il n'est pas possible de trouver le type MIME associé à un fichier, ou si le fichier n'a pas d'extensions, affichez UNKNOWN.       
	</br>
	EXEMPLE :
	Entrée
	html text/html
	png image/png
	test.html
	noextension
	portrait.png
	doc.TXT
	Sortie
	text/html
	UNKNOWN
	image/png
	UNKNOWN
}

TESTS=
%Q{
require 'test/unit'

class TestMimeType < Test::Unit::TestCase

  def test01_should_find_an_empty_list

    extension_hash = { 
    }
    file_list = [
    ]
    assert_equal [
    ], mime_types(file_list, extension_hash)
    
  end

  def test02_should_find_one_mime_type

    extension_hash = { 
    "html" => "text/html" 
    }
    file_list = [
    "file.html"
    ]
    assert_equal [
    "text/html"
    ], mime_types(file_list, extension_hash)
    
  end  

  def test03_should_find_one_UNKNOWN_mime_types

    extension_hash = { 
    "html" => "text/html" 
    }
    file_list = [
    "file.html", 
    "file.gif"
    ]
    assert_equal [
    "text/html", 
    "UNKNOWN"
    ], mime_types(file_list, extension_hash)
    
  end
  
  def test04_should_find_two_mime_types

    extension_hash = { 
    "html" => "text/html", 
    "gif" => "image/gif" 
    }
    file_list = [
    "file.html", 
    "file.gif"
    ]
    assert_equal [
    "text/html", 
    "image/gif"
    ], mime_types(file_list, extension_hash)
    
  end  
	
  def test10_should_find_three_mime_types
    extension_hash = {
    "html" =>  "text/html", 
    "png" => "image/png", 
    "gif" => "image/gif" 
    }
    file_list = [
    "animated.gif", 
    "portrait.png", 
    "index.html"
    ]
    assert_equal  [
    "image/gif", 
    "image/png", 
    "text/html"
    ], mime_types(file_list, extension_hash)
  end
  
  def test12_should_not_find_any_mime_type

    extension_hash = {
    "txt" => "text/plain", 
    "xml" =>  "text/xml", 
    "flv" => "video/x-flv" 
    }
    file_list = [
    "image.png", 
    "animated.gif", 
    "script.js", 
    "source.cpp"
    ]
    assert_equal  [
    "UNKNOWN", 
    "UNKNOWN", 
    "UNKNOWN", 
    "UNKNOWN"
    ], mime_types(file_list, extension_hash)

  end
  
  def test13_should_find_unknown_mime_types_if_wierd_extensions
    extension_hash = { 
    "wav" => "audio/x-wav", 
    "mp3" => "audio/mpeg", 
    "pdf" => "application/pdf" 
    }
    file_list = ["a", 
    "a.wav", 
    "b.wav.tmp", 
    "test.vmp3", 
    "pdf", "mp3", 
    "report..pdf", 
    "defaultwav", 
    ".mp3.", "final."
    ]
    assert_equal  [
    "UNKNOWN", 
    "audio/x-wav", 
    "UNKNOWN", 
    "UNKNOWN", 
    "UNKNOWN", 
    "UNKNOWN", 
    "application/pdf", 
    "UNKNOWN", 
    "UNKNOWN", 
    "UNKNOWN"
    ], mime_types(file_list, extension_hash)
  end

  def test14_should_not_care_about_case

    extension_hash = { 
    "png" => "image/png", 
    "tiff" => "image/TIFF", 
    "css" => "text/css", 
    "txt" => "text/plain"
    }
    file_list = [
    "example.TXT", 
    "referecnce.txt", 
    "strangename.tiff", 
    "resolv.CSS", 
    "matrix.TiFF", 
    "lanDsCape.Png", 
    "extract.cSs"
    ]
    assert_equal  [
    "text/plain", 
    "text/plain", 
    "image/TIFF", 
    "text/css", 
    "image/TIFF", 
    "image/png", 
    "text/css"
    ], mime_types(file_list, extension_hash)
    
  end
  
end
}

JAVA_CODE =
%Q{
class Solution

  def Solution.main(fichiers, table)
    types_mimes = Array.new();
    for i in 0..fichiers.size-1 do
      nomFichier = fichiers[i];
      if (nomFichier.rindex(".") == nil)
      types_mimes.push("UNKNOWN");
      else
        ext = nomFichier[nomFichier.rindex(".")+1, nomFichier.size-1];
        ext = ext.downcase;
        if (table.has_key?(ext))
          types_mimes.push(table[ext]);
        else
          types_mimes.push("UNKNOWN");
        end
      end
      i = i + 1;
    end
    return types_mimes;
  end
	
end

def mime_types(table, fichier)
  Solution.main(table, fichier)
end
}
